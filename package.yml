name       : ypkg
homepage   : https://github.com/solus-project/ypkg
version    : '25'
release    : 104
source     :
    - https://github.com/solus-project/ypkg/releases/download/v25/ypkg2-25.0.0.tar.gz : f953c6670ce08b39634282ac8e00d9aac08b772a2c94866cfd9b4bf104740256
license    :
    - GPL-3.0
summary    : Modern, declarative, structured build format
component  : system.devel
builddeps  :
    - python-setuptools
rundeps    :
    - python-configobj
    - pyyaml
    - fakeroot
    - ruamel_yaml
description: |
    ypkg is the build tool of choice for Solus. Simply put, it is a tool to
    convert a build process into a packaging operation.
setup      : |
    %patch -p1 < $pkgfiles/0001-context-Ensure-we-REALLY-prevent-symbolic.patch
    %python_setup
install    : |
    %python_install
    # These are going to be replaced by ypkg-tools
    install -D -d -m 00755 $installdir/usr/share/ypkg
    ln -sv ../../bin/yupdate $installdir/usr/share/ypkg/yupdate.py
    ln -sv ../../bin/ybump $installdir/usr/share/ypkg/ybump.py
